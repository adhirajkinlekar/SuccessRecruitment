(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{gaC7:function(t,e,r){"use strict";r.r(e),r.d(e,"JobModule",(function(){return Z}));var o=r("ofXK"),i=r("tyNb"),n=r("3Pt+"),s=r("PSD3"),c=r.n(s),b=r("fXoL"),a=r("tk/3");let l=(()=>{class t{constructor(t){this.http=t,this.baseUrl="https://localhost:44308/Job",this.testEvent=new b.n}getRecuiters(){return this.http.get(this.baseUrl+"/Recuiters")}postJob(t){return this.http.post(this.baseUrl+"/PublishJob",t)}getAllJobs(){return this.http.get(this.baseUrl+"/AllJobs",{responseType:"json"})}getJobById(t){return this.http.get(`${this.baseUrl}/${t}`)}updateJob(t){return this.http.put(this.baseUrl+"/UpdateJob",t,{observe:"response"})}}return t.\u0275fac=function(e){return new(e||t)(b.Wb(a.b))},t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function u(t,e){1&t&&(b.Ob(0,"div",7),b.yc(1,"Add Job"),b.Nb())}function d(t,e){if(1&t&&(b.Ob(0,"div",7),b.yc(1),b.Nb()),2&t){const t=b.bc(2);b.xb(1),b.Ac("Edit Job - ",null==t.formValue?null:t.formValue.jobTitle,"")}}function f(t,e){if(1&t&&(b.Ob(0,"div",8),b.yc(1),b.Nb()),2&t){const t=b.bc(2);b.xb(1),b.Ac(" ",t.error," ")}}function p(t,e){if(1&t&&(b.Ob(0,"div",9),b.yc(1),b.Nb()),2&t){const t=b.bc(2);b.xb(1),b.Ac(" ",t.success," ")}}function h(t,e){if(1&t&&(b.Ob(0,"option",29),b.yc(1),b.Nb()),2&t){const t=e.$implicit;b.gc("value",null==t?null:t.recruiterId),b.xb(1),b.zc(null==t?null:t.recruiterName)}}function m(t,e){1&t&&(b.Ob(0,"div",31),b.yc(1," Recruiter is required "),b.Nb())}function g(t,e){if(1&t&&(b.Mb(0),b.wc(1,m,2,0,"div",30),b.Lb()),2&t){const t=b.bc(3);b.xb(1),b.gc("ngIf",t.jobForm.controls.EmployerId.touched)}}function v(t,e){1&t&&(b.Ob(0,"div",31),b.yc(1," Job Title is Required "),b.Nb())}function y(t,e){if(1&t&&(b.Mb(0),b.wc(1,v,2,0,"div",30),b.Lb()),2&t){const t=b.bc(3);b.xb(1),b.gc("ngIf",t.jobForm.controls.JobTitle.touched&&t.jobForm.controls.JobTitle.errors.required)}}function w(t,e){1&t&&(b.Ob(0,"div",31),b.yc(1," Field is Required "),b.Nb())}function j(t,e){if(1&t&&(b.Mb(0),b.wc(1,w,2,0,"div",30),b.Lb()),2&t){const t=b.bc(3);b.xb(1),b.gc("ngIf",t.jobForm.controls.Field.touched&&t.jobForm.controls.Field.errors.required)}}function O(t,e){1&t&&(b.Ob(0,"div",31),b.yc(1," Field is Required "),b.Nb())}function J(t,e){if(1&t&&(b.Mb(0),b.wc(1,O,2,0,"div",30),b.Lb()),2&t){const t=b.bc(3);b.xb(1),b.gc("ngIf",t.jobForm.controls.JobLocation.touched&&t.jobForm.controls.JobLocation.errors.required)}}function x(t,e){1&t&&(b.Ob(0,"span"),b.yc(1," Update"),b.Nb())}function N(t,e){1&t&&(b.Ob(0,"span"),b.yc(1," Submit"),b.Nb())}function F(t,e){if(1&t){const t=b.Pb();b.Ob(0,"form",10),b.Zb("submit",(function(){return b.qc(t),b.bc(2).submitForm()})),b.Ob(1,"div",11),b.Ob(2,"div",12),b.Ob(3,"div",13),b.Ob(4,"select",14),b.Ob(5,"option",15),b.yc(6,"Select Recruiter"),b.Nb(),b.wc(7,h,2,2,"option",16),b.Nb(),b.wc(8,g,2,1,"ng-container",17),b.Nb(),b.Ob(9,"div",13),b.Ob(10,"div",18),b.Ob(11,"span",19),b.yc(12,"Job Title"),b.Nb(),b.Kb(13,"input",20),b.Nb(),b.wc(14,y,2,1,"ng-container",17),b.Nb(),b.Ob(15,"div",13),b.Ob(16,"div",18),b.Ob(17,"span",19),b.yc(18,"Field"),b.Nb(),b.Kb(19,"input",21),b.Nb(),b.wc(20,j,2,1,"ng-container",17),b.Nb(),b.Ob(21,"div",13),b.Ob(22,"div",18),b.Ob(23,"span",19),b.yc(24,"Location"),b.Nb(),b.Kb(25,"input",22),b.Nb(),b.wc(26,J,2,1,"ng-container",17),b.Nb(),b.Ob(27,"div",23),b.Ob(28,"div",18),b.Ob(29,"span",19),b.yc(30,"Job Description"),b.Nb(),b.Kb(31,"textarea",24),b.Nb(),b.Nb(),b.Nb(),b.Ob(32,"button",25),b.Kb(33,"i",26),b.wc(34,x,2,0,"span",27),b.wc(35,N,2,0,"ng-template",null,28,b.xc),b.Nb(),b.Nb(),b.Nb()}if(2&t){const t=b.oc(36),e=b.bc(2);b.gc("formGroup",e.jobForm),b.xb(7),b.gc("ngForOf",e.recruiters),b.xb(1),b.gc("ngIf",e.jobForm.hasError("length")),b.xb(6),b.gc("ngIf",e.jobForm.controls.JobTitle.errors),b.xb(6),b.gc("ngIf",e.jobForm.controls.Field.errors),b.xb(6),b.gc("ngIf",e.jobForm.controls.JobLocation.errors),b.xb(6),b.gc("disabled",e.jobForm.pristine||e.jobForm.invalid),b.xb(2),b.gc("ngIf",e.isUpdate)("ngIfElse",t)}}function I(t,e){if(1&t&&(b.Ob(0,"div",2),b.wc(1,u,2,0,"div",3),b.wc(2,d,2,1,"div",3),b.wc(3,f,2,1,"div",4),b.wc(4,p,2,1,"div",5),b.wc(5,F,37,9,"form",6),b.Nb()),2&t){const t=b.bc();b.xb(1),b.gc("ngIf",!t.isUpdate),b.xb(1),b.gc("ngIf",t.isUpdate),b.xb(1),b.gc("ngIf",t.error),b.xb(1),b.gc("ngIf",t.success),b.xb(1),b.gc("ngIf",t.recruiters)}}function k(t,e){1&t&&(b.Ob(0,"div",32),b.yc(1," Job not found\n"),b.Nb())}let L=(()=>{class t{constructor(t,e,r){this.service=t,this.route=e,this.router=r,this.recruiters=[],this.isUpdate=!1,this.jobForm=new n.d({EmployerId:new n.b("",[n.n.required]),JobTitle:new n.b("",[n.n.required]),Field:new n.b("",[n.n.required]),JobLocation:new n.b("",[n.n.required]),JobDescription:new n.b("")},{validators:[this.selectValidator()]}),this.setFormValues()}unloadNotification(t){}ngOnInit(){this.jobForm.statusChanges.subscribe(t=>{"VALID"===t&&(this.error=null)})}showPage(){return!this.isUpdate||!this.route.snapshot.data.Data[1].error}setFormValues(){var t,e,r,o,i;this.route.snapshot.paramMap.get("id")?(this.recruiters=this.route.snapshot.data.Data[0].$values,this.formValue=this.route.snapshot.data.Data[1],this.isUpdate=!0,this.jobForm.patchValue({EmployerId:null===(t=this.formValue)||void 0===t?void 0:t.recruiterId,JobTitle:null===(e=this.formValue)||void 0===e?void 0:e.jobTitle,Field:null===(r=this.formValue)||void 0===r?void 0:r.field,JobLocation:null===(o=this.formValue)||void 0===o?void 0:o.jobLocation,JobDescription:null===(i=this.formValue)||void 0===i?void 0:i.jobDescription})):this.recruiters=this.route.snapshot.data.Data.$values}selectValidator(){return t=>""==t.controls.EmployerId.value?{length:!0}:null}canDeactivate(t){for(let e in this.jobForm.controls)if(!this.jobForm.controls[e].pristine)return setTimeout(()=>{this.showAlert(t)}),!1;return!0}showAlert(t){c.a.fire({title:"You have unsaved changes. Do you want to continue?",showDenyButton:!0,confirmButtonText:"Yes",denyButtonText:"No"}).then(e=>{e.isConfirmed&&(this.jobForm.reset(),this.router.navigateByUrl(t))})}submitForm(){this.error=null,this.success=null;for(let t in this.jobForm.controls)this.jobForm.controls[t].markAsTouched();if(this.jobForm.valid)if(this.isUpdate){let t=Object.assign(this.jobForm.value,{jobId:this.formValue.jobId});this.service.updateJob(t).subscribe(t=>{if(t.body){this.success="Job has been successfully Updated";for(let t in this.jobForm.controls)this.jobForm.controls[t].markAsPristine()}},t=>{this.error=t.error})}else this.service.postJob(this.jobForm.value).subscribe(t=>{t&&(this.jobForm.reset(),this.success="Job has been successfully published on the website")},t=>{this.error=t.error});else this.error="Please fill all required fields"}}return t.\u0275fac=function(e){return new(e||t)(b.Jb(l),b.Jb(i.a),b.Jb(i.b))},t.\u0275cmp=b.Db({type:t,selectors:[["app-addEditJob"]],hostBindings:function(t,e){1&t&&b.Zb("beforeunload",(function(){return e.unloadNotification(e.$events)}),!1,b.pc)},decls:3,vars:2,consts:[["class","card text-dark bg-light mb-3 mt-3","style","max-width: 99%;margin: auto;border-radius: 10px;",4,"ngIf","ngIfElse"],["showError",""],[1,"card","text-dark","bg-light","mb-3","mt-3",2,"max-width","99%","margin","auto","border-radius","10px"],["class","card-header",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],[3,"formGroup","submit",4,"ngIf"],[1,"card-header"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"],[3,"formGroup","submit"],[1,"card-body","col-12"],[1,"row"],[1,"col-12","col-lg-6","col-xl-4","mb-3"],["aria-label","Default select example","formControlName","EmployerId",1,"form-select"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"input-group"],[1,"input-group-text"],["type","text","aria-label","Job Title","formControlName","JobTitle",1,"form-control"],["type","text","aria-label","Field","formControlName","Field",1,"form-control"],["type","text","aria-label","JobLocation","formControlName","JobLocation",1,"form-control"],[1,"col-12"],["aria-label","With textarea","formControlName","JobDescription",1,"form-control",2,"height","100px"],["type","submit",1,"btn","btn-primary","mt-3",3,"disabled"],["aria-hidden","true",1,"fa","fa-paper-plane"],[4,"ngIf","ngIfElse"],["showSubmit",""],[3,"value"],["class","alert-danger error",4,"ngIf"],[1,"alert-danger","error"],["role","alert",1,"alert","alert-danger","text-center"]],template:function(t,e){if(1&t&&(b.wc(0,I,6,5,"div",0),b.wc(1,k,2,0,"ng-template",null,1,b.xc)),2&t){const t=b.oc(2);b.gc("ngIf",e.showPage())("ngIfElse",t)}},directives:[o.j,n.p,n.j,n.e,n.m,n.i,n.c,n.k,n.o,o.i,n.a],styles:[".headerError[_ngcontent-%COMP%]{color:red;margin-left:20px}.error[_ngcontent-%COMP%]{border-radius:4px;text-align:center}.headerSuccess[_ngcontent-%COMP%]{color:#71af71}"]}),t})();var D=r("cp0P"),C=r("JIr8"),E=r("LRne");let q=(()=>{class t{constructor(t,e){this.service=t,this.router=e}resolve(t){const e=t.params.id;return"true"==t.queryParams.isEdit?Object(D.a)([this.service.getRecuiters().pipe(Object(C.a)(t=>{const e="Retrieval error: "+t;return Object(E.a)({recruiters:null,error:e})})),this.service.getJobById(e).pipe(Object(C.a)(t=>{console.log(t);const e="Retrieval error: "+t;return Object(E.a)({formValues:null,error:e})}))]):this.service.getRecuiters().pipe(Object(C.a)(t=>{const e="Retrieval error: "+t;return Object(E.a)({recruiters:null,error:e})}))}}return t.\u0275fac=function(e){return new(e||t)(b.Wb(l),b.Wb(i.b))},t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var T=r("1kSV");const P=function(t){return["../EditJob",t]},V=function(){return{isEdit:!0}};function U(t,e){if(1&t){const t=b.Pb();b.Ob(0,"li",8),b.Ob(1,"div",9),b.Ob(2,"div",10),b.yc(3),b.Kb(4,"i",11),b.Ob(5,"i",12),b.Zb("click",(function(){b.qc(t);const r=e.$implicit,o=b.bc(2),i=b.oc(4);return o.open(i,r)})),b.Nb(),b.Nb(),b.yc(6),b.Nb(),b.Ob(7,"span",13),b.yc(8),b.Nb(),b.Nb()}if(2&t){const t=e.$implicit;b.xb(3),b.Ac("",t.jobTitle," "),b.xb(1),b.gc("routerLink",b.kc(6,P,t.jobId))("queryParams",b.jc(8,V)),b.xb(2),b.Bc(" ",t.field," - ",t.jobLocation," "),b.xb(2),b.zc(t.recruiterName)}}function R(t,e){if(1&t){const t=b.Pb();b.Ob(0,"div",3),b.Ob(1,"div",4),b.yc(2,"Jobs"),b.Nb(),b.Ob(3,"input",5),b.Zb("input",(function(e){return b.qc(t),b.bc().filterJobs(e.target.value)})),b.Nb(),b.Ob(4,"ol",6),b.wc(5,U,9,9,"li",7),b.Nb(),b.Nb()}if(2&t){const t=b.bc();b.xb(5),b.gc("ngForOf",t.filteredJobs)}}function A(t,e){1&t&&(b.Ob(0,"div",14),b.yc(1," No jobs to display\n"),b.Nb())}function S(t,e){if(1&t&&(b.Ob(0,"div",15),b.Ob(1,"h4",16),b.yc(2),b.Nb(),b.Nb(),b.Ob(3,"div",17),b.Ob(4,"p",18),b.yc(5),b.Nb(),b.Nb(),b.Ob(6,"div",19),b.Ob(7,"button",20),b.Zb("click",(function(){return(0,e.dismiss)("Cross click")})),b.yc(8,"Edit"),b.Nb(),b.Ob(9,"button",21),b.Zb("click",(function(){return(0,e.dismiss)("Cross click")})),b.yc(10,"Cancel"),b.Nb(),b.Nb()),2&t){const t=b.bc();b.xb(2),b.zc(t.selectedJob.jobTitle),b.xb(3),b.zc(t.selectedJob.jobDescription),b.xb(2),b.gc("routerLink",b.kc(4,P,t.selectedJob.jobId))("queryParams",b.jc(6,V))}}let M=(()=>{class t{constructor(t,e,r,o,i){this.route=t,this.router=e,this.modalService=o,this.service=i,this.jobs=[],this.filteredJobs=[],r.backdrop="static",r.keyboard=!1,this.jobs=this.route.snapshot.data.Data.$values,this.jobs&&this.filterJobs("")}ngOnInit(){}filterJobs(t){this.filteredJobs=this.jobs.filter(e=>e.jobTitle.toLowerCase().includes(t.toLowerCase())||e.recruiterName.toLowerCase().includes(t.toLowerCase())||e.field.toLowerCase().includes(t.toLowerCase())||e.jobLocation.toLowerCase().includes(t.toLowerCase()))}open(t,e){this.selectedJob=e,this.modalService.open(t)}}return t.\u0275fac=function(e){return new(e||t)(b.Jb(i.a),b.Jb(i.b),b.Jb(T.b),b.Jb(T.a),b.Jb(l))},t.\u0275cmp=b.Db({type:t,selectors:[["app-viewjobs"]],features:[b.wb([T.b,T.a])],decls:5,vars:2,consts:[["class","card text-dark bg-light mb-3 mt-3","style","max-width: 99%;margin: auto;border-radius: 10px;",4,"ngIf","ngIfElse"],["noJobsFound",""],["content",""],[1,"card","text-dark","bg-light","mb-3","mt-3",2,"max-width","99%","margin","auto","border-radius","10px"],[1,"card-header"],["type","search","placeholder","Search by Recuiter Name, Field, Location, Job Title","aria-label","Search",1,"form-control","me-2","mb-1",3,"input"],[1,"list-group","list-group-numbered"],["class","list-group-item d-flex justify-content-between align-items-start",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-start"],[1,"ms-2","me-auto"],[1,"fw-bold"],["aria-hidden","true",1,"fa","fa-pencil",2,"cursor","pointer",3,"routerLink","queryParams"],["aria-hidden","true",1,"fa","fa-eye",2,"margin-left","7px","cursor","pointer",3,"click"],[1,"badge","bg-primary","rounded-pill"],["role","alert",1,"alert","alert-danger","text-center"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],[1,"modal-body"],[2,"white-space","pre-wrap"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"routerLink","queryParams","click"],["type","button",1,"btn","btn-outline-dark",3,"click"]],template:function(t,e){if(1&t&&(b.wc(0,R,6,1,"div",0),b.wc(1,A,2,0,"ng-template",null,1,b.xc),b.wc(3,S,11,7,"ng-template",null,2,b.xc)),2&t){const t=b.oc(2);b.gc("ngIf",e.jobs)("ngIfElse",t)}},directives:[o.j,o.i,i.c],styles:[""]}),t})(),$=(()=>{class t{constructor(t,e){this.service=t,this.router=e}resolve(t){return this.service.getAllJobs().pipe(Object(C.a)(t=>{const e="Retrieval error: "+t;return Object(E.a)({jobs:null,error:e})}))}}return t.\u0275fac=function(e){return new(e||t)(b.Wb(l),b.Wb(i.b))},t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),B=(()=>{class t{canDeactivate(t,e,r,o){return!t.canDeactivate||t.canDeactivate(o.url)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const K=[{path:"AddJob",component:L,canDeactivate:[B],resolve:{Data:q}},{path:"EditJob/:id",component:L,canDeactivate:[B],resolve:{Data:q}},{path:"ViewJobs",component:M,resolve:{Data:$}}];let W=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(e){return new(e||t)},imports:[[i.d.forChild(K)],i.d]}),t})(),Z=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(e){return new(e||t)},imports:[[o.b,W,n.l]]}),t})()}}]);